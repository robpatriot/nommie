# ----------------------------
# Backend secrets
# ----------------------------
# Secret key for signing/verifying JWTs
# Generate a secure random secret: openssl rand -hex 32
BACKEND_JWT_SECRET=change_me_secret

# Comma-separated list of allowed origins
# For production, use your actual domain: https://yourdomain.com
# For local dev, use: http://localhost:3000,http://127.0.0.1:3000
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ----------------------------
# Email Allowlist (Optional)
# ----------------------------
# Restrict signup and login to specific email addresses or patterns.
# If not set or empty, all emails are allowed (open signup/login).
#
# Format: comma-separated list of emails or glob patterns
# Examples:
#   - Exact emails: user1@example.com,user2@example.com
#   - Domain wildcard: *@example.com
#   - Subdomain wildcard: user@*.example.com
#   - Mixed: user1@example.com,*@trusted.com
#
# Store in .env.local or deployment secrets (not committed to git)
# ALLOWED_EMAILS=user1@example.com,user2@example.com,*@trusted.com

# ----------------------------
# Postgres TLS Configuration
# ----------------------------
# TLS is enabled by default (verify-full). To explicitly disable TLS, set:
# POSTGRES_SSL_MODE=disable
#
# Common values:
# - (unset)     → defaults to verify-full (TLS required + hostname verification)
# - require     → TLS required, but hostname not verified
# - verify-ca   → TLS required + CA verification, but hostname not verified
# - verify-full → TLS required + hostname verification (default)
# - disable     → no TLS (not recommended for production)
#
# POSTGRES_SSL_MODE=verify-full

# Path to CA certificate. For local dev, point to your local CA certificate file.
# Required when POSTGRES_SSL_MODE is not "disable".
POSTGRES_SSL_ROOT_CERT=/path/to/ca.crt

# ----------------------------
# Server configuration
# ----------------------------
# Host address to bind to (default: 0.0.0.0)
# BACKEND_HOST=0.0.0.0
# Port to listen on (default: 3001)
# Redis connection (required for realtime websocket sync)
# For local dev, Redis runs on localhost:6379 via docker/dev-db/docker-compose.yml
REDIS_URL=redis://127.0.0.1:6379/0
