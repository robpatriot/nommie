# ----------------------------
# Backend secrets
# ----------------------------
# Secret key for signing/verifying JWTs
# Generate a secure random secret: openssl rand -hex 32
BACKEND_JWT_SECRET=your-secret-key-here-minimum-32-bytes

# Comma-separated list of allowed origins
# For production, use your actual domain: https://yourdomain.com
# For local dev, use: http://localhost:3000,http://127.0.0.1:3000
CORS_ALLOWED_ORIGINS=https://yourdomain.com

# ----------------------------
# Email Allowlist (Optional)
# ----------------------------
# Restrict signup and login to specific email addresses or patterns.
# If not set or empty, all emails are allowed (open signup/login).
#
# Format: comma-separated list of emails or glob patterns
# Examples:
#   - Exact emails: user1@example.com,user2@example.com
#   - Domain wildcard: *@example.com
#   - Subdomain wildcard: user@*.example.com
#   - Mixed: user1@example.com,*@trusted.com
#
# Store in .env.local or deployment secrets (not committed to git)
# ALLOWED_EMAILS=user1@example.com,user2@example.com,*@trusted.com

# ----------------------------
# Postgres TLS Configuration
# ----------------------------
# TLS is enabled by default (verify-full). To explicitly disable TLS, set:
# POSTGRES_SSL_MODE=disable
#
# Common values:
# - (unset)     → defaults to verify-full (TLS required + hostname verification)
# - require     → TLS required, but hostname not verified
# - verify-ca   → TLS required + CA verification, but hostname not verified
# - verify-full → TLS required + hostname verification (default)
# - disable     → no TLS (not recommended for production)
#
# POSTGRES_SSL_MODE=verify-full

# Path to CA certificate inside the backend container. This must match the
# mount defined in docker/local-prod/docker-compose.yml.
# Required when POSTGRES_SSL_MODE is not "disable".
POSTGRES_SSL_ROOT_CERT=/etc/ssl/certs/nommie-ca.crt

# ----------------------------
# Server configuration
# ----------------------------
# Host address to bind to (default: 0.0.0.0)
BACKEND_HOST=0.0.0.0
# Port to listen on (default: 3001)
BACKEND_PORT=3001
# Redis connection (required for realtime sync)
REDIS_URL=redis://redis:6379/0

# ----------------------------
# HTTP Payload Limits (Optional)
# ----------------------------
# Maximum size for JSON payloads in bytes (default: 1048576 = 1MB)
# Example: 2MB = 2097152, 512KB = 524288
# MAX_JSON_PAYLOAD_SIZE=1048576
#
# Maximum size for form data and other payloads in bytes (default: 1048576 = 1MB)
# Example: 2MB = 2097152, 512KB = 524288
# MAX_PAYLOAD_SIZE=1048576
